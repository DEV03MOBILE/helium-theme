/*!
 * Copyright (c) 2008-2020 Haulmont.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

$he-maintabsheet-light: true !default;

@mixin he-main-window {
  .c-app-workarea {
    @include he-box-shadow(--app-workarea-shadow);
  }

  $tabsheet-stylename: v-tabsheet;

  .#{$tabsheet-stylename}.c-main-tabsheet.framed.padded-tabbar > .#{$tabsheet-stylename}-tabcontainer {
    @if ($he-maintabsheet-light) {
      @include he-maintabsheet-light-style($tabsheet-stylename: v-tabsheet);
    }

    background-color: var(--maintabsheet-tabcontainer-background-color);
  }

  .c-app-work-area-single {
    background: var(--panel-background-color);
  }

  .c-main-singlewindow {
    background-color: var(--panel-background-color);
  }

  .c-welcome-text,
  .v-label.c-welcome-text {
    color: var(--text-secondary-color);
  }

  @include he-maintabsheet-size-style($tabsheet-stylename: $tabsheet-stylename);

  &.small {
    @include he-maintabsheet-size-style(
            $tabsheet-stylename: $tabsheet-stylename,
            $unit-size: $v-unit-size--small,
            $font-size: $v-font-size--small
    );
  }

  &.large {
    @include he-maintabsheet-size-style(
            $tabsheet-stylename: $tabsheet-stylename,
            $unit-size: $v-unit-size--large,
            $font-size: $v-font-size--large
    );
  }
}

@mixin he-maintabsheet-size-style($tabsheet-stylename  : v-tabsheet,
                                  $unit-size           : $v-unit-size,
                                  $font-size           : $v-font-size) {
  .#{$tabsheet-stylename}.c-main-tabsheet > .#{$tabsheet-stylename}-tabcontainer .#{$tabsheet-stylename}-caption-close {
    top: round($unit-size/2 - $font-size/2);
  }
}

@mixin he-maintabsheet-light-style($tabsheet-stylename: v-tabsheet) {
  .v-caption {
    background: transparent;
    border-bottom: 2px solid transparent;

    @include transition(background-color 0ms);
    @include transition(border-bottom-color 0ms);

    &:hover {
      color: var(--primary-color);
    }

    &.v-disabled {
      color: var(--text-dim-color) !important;
    }
  }

  .#{$tabsheet-stylename}-tabitem-selected .v-caption.v-caption {
    border-bottom-color: var(--primary-color);
    color: var(--primary-color);
  }
}